<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Plan - Total Package Interview</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        teal: '#20C997',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 3px;
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-slate-900 via-slate-950 to-black min-h-screen">

    <!-- Promo Banner -->
    <div
        class="bg-gradient-to-r from-teal to-slate-900 text-white py-2 text-center text-xs font-bold tracking-widest uppercase border-b border-white/10 sticky top-0 z-[60]">
        ðŸš€ code: <span class="bg-white/20 px-2 py-0.5 rounded border border-white/30 mx-1">TAKE50</span> for 50% Off all
        tools
    </div>

    <!-- Header -->
    <nav class="border-b border-white/5 bg-slate-950/50 backdrop-blur-xl sticky top-[33px] z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/dashboard" class="flex flex-col">
                <span class="text-[10px] font-bold text-teal uppercase tracking-[0.2em] leading-tight">Total
                    Package</span>
                <span class="text-xl font-black text-white tracking-tighter leading-tight">INTERVIEW</span>
            </a>
            <div id="header-auth" class="flex items-center gap-4">
                <a href="/login" class="text-sm text-slate-400 hover:text-white transition-colors">Login</a>
                <a href="/signup"
                    class="px-4 py-2 bg-teal hover:bg-teal/80 text-slate-950 font-bold rounded-lg transition-all text-sm">
                    Sign Up
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-12 md:py-20">

        <!-- Header Section -->
        <div class="text-center mb-12 md:mb-16">
            <h2 class="text-xs font-bold text-teal uppercase tracking-widest mb-3">PREMIUM ACCESS</h2>
            <h1 class="text-4xl md:text-5xl font-black text-white mb-4">Choose Your Plan</h1>
            <p class="text-slate-400 text-lg">Invest in your career success properly.</p>
        </div>

        <!-- Pricing Cards -->
        <div class="space-y-12">

            <!-- Unlock Pro Section -->
            <div class="space-y-4">
                <label class="text-xs font-bold text-teal uppercase tracking-widest flex items-center gap-2">
                    <i class="fas fa-star"></i> Unlock Pro
                </label>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <!-- Monthly Unlimited -->
                    <div
                        class="glass-card rounded-2xl p-6 relative overflow-hidden group hover:border-teal/50 transition-all bg-slate-950/80">
                        <div class="absolute top-4 right-4">
                            <span
                                class="bg-teal text-slate-950 text-[10px] px-2 py-1 rounded font-black tracking-wider">BEST
                                VALUE</span>
                        </div>
                        <h3 class="text-lg font-bold text-teal mb-2 flex items-center gap-2">
                            Monthly Unlimited
                            <span
                                class="bg-teal text-black text-[8px] px-1.5 py-0.5 rounded font-black tracking-tighter">PRO</span>
                        </h3>
                        <p class="text-xs text-slate-300 mb-4">Unlimited Text Tools + 50 Voice Sessions/mo</p>
                        <div class="flex items-baseline gap-2 mb-6">
                            <span class="text-4xl font-black text-white">$49.99</span>
                            <span class="text-slate-400 text-sm">/mo</span>
                        </div>
                        <button onclick="handleCheckout(event, 'pro')"
                            class="w-full bg-teal hover:bg-teal/80 text-slate-950 font-bold py-3 rounded-lg transition-all shadow-lg">
                            Go Unlimited
                        </button>
                    </div>

                    <!-- Strategy Bundle -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-teal/50 transition-all bg-slate-950/80">
                        <h3 class="text-lg font-bold text-teal group-hover:text-teal/80 mb-2 transition-colors">
                            Strategy Bundle</h3>
                        <p class="text-xs text-slate-300 mb-4">5 Universal Credits (Save ~$15)</p>
                        <div class="flex items-baseline gap-2 mb-6">
                            <span class="text-4xl font-black text-white">$29.99</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_bundle')"
                            class="w-full bg-teal hover:bg-teal/80 text-slate-950 font-bold py-3 rounded-lg transition-all shadow-lg">
                            Purchase
                        </button>
                    </div>

                </div>
            </div>

            <!-- Ã€ La Carte Section -->
            <div class="space-y-4">
                <label class="text-xs font-bold text-blue-400 uppercase tracking-widest flex items-center gap-2">
                    <i class="fas fa-shopping-cart"></i> Ã€ La Carte Tools
                </label>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

                    <!-- Executive Rewrite -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            Executive Rewrite</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Complete resume overhaul with ATS optimization and
                            professional formatting</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$12.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'rewrite')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- Interview Simulator -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            Interview Simulator</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Real-time voice mock interview with instant AI
                            feedback and scoring</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$9.99</span>
                            <span class="text-[10px] text-slate-600">/ session</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_interview_sim')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- 30-60-90 Day Plan -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            30-60-90 Day Plan</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Strategic onboarding roadmap to impress hiring
                            managers in final rounds</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$8.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_plan')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- Cover Letter -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">Cover
                            Letter</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Compelling cover letter tailored to your target role
                            and company</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$6.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_cover')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- LinkedIn Optimize -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            LinkedIn Optimizer</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Optimize your LinkedIn profile to attract recruiters
                            and opportunities</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$6.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_linkedin')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- The Closer -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">The
                            Closer</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Salary negotiation strategy to maximize your
                            compensation package</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$6.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_closer')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- Inquisitor -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            Inquisitor</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Intelligent questions to ask interviewers that
                            demonstrate strategic thinking</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$6.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_inquisitor')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- Value Follow-Up -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">Value
                            Follow-Up</h3>
                        <p class="text-[10px] text-slate-500 mb-3">Strategic post-interview follow-up that reinforces
                            your value proposition</p>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-2xl font-bold text-white">$6.99</span>
                            <span class="text-[10px] text-slate-600">/ use</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_followup')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                </div>
            </div>

        </div>

        <!-- Footer Note -->
        <div class="mt-16 text-center">
            <p class="text-xs text-slate-500">All purchases are secure and processed through Stripe.</p>
            <p class="text-xs text-slate-600 mt-2">Questions? <a href="mailto:support@totalpackageinterview.com"
                    class="text-teal hover:underline">Contact Support</a></p>
        </div>

    </main>

    <script>
        // Check authentication on page load
        const sessionStr = localStorage.getItem('aceinterview_session');
        const headerAuth = document.getElementById('header-auth');

        if (sessionStr) {
            try {
                const session = JSON.parse(sessionStr);
                const email = session.email || 'User';
                const initials = email.substring(0, 2).toUpperCase();

                // Replace header with user info
                headerAuth.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="text-sm text-slate-400">Welcome, <span class="text-white font-medium">${email.split('@')[0]}</span></span>
                        <a href="/dashboard" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-lg transition-all text-sm">
                            <i class="fas fa-arrow-left mr-2"></i>Dashboard
                        </a>
                    </div>
                `;
            } catch (e) {
                console.error('Error parsing session:', e);
            }
        }

        async function handleCheckout(event, planType) {
            event.preventDefault();

            // Check authentication
            const sessionStr = localStorage.getItem('aceinterview_session');
            if (!sessionStr) {
                window.location.href = '/login?redirect=/pricing';
                return;
            }

            const session = JSON.parse(sessionStr);
            const email = session.email;
            const btn = event.target;
            const originalText = btn.innerText;

            btn.innerText = 'Processing...';
            btn.style.opacity = '0.7';
            btn.disabled = true;

            try {
                const response = await fetch('/api/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${session.access_token || ''}`
                    },
                    body: JSON.stringify({
                        plan_type: planType,
                        email: email,
                        userId: session.user_id || session.id || session.user?.id,
                        successUrl: window.location.origin + '/dashboard'
                    })
                });

                const result = await response.json();

                if (!response.ok) {
                    console.error('Checkout API Error:', result);
                    alert(`Error starting checkout: ` + (result.error || 'Please try again.'));
                    btn.innerText = originalText;
                    btn.style.opacity = '1';
                    btn.disabled = false;
                    return;
                }

                const data = result.data || result;
                if (data.url) {
                    window.location.href = data.url;
                } else {
                    alert('Error starting checkout: No redirect URL received.');
                    btn.innerText = originalText;
                    btn.style.opacity = '1';
                    btn.disabled = false;
                }
            } catch (e) {
                console.error('Checkout Exception:', e);
                alert('Connection error. Please try again.');
                btn.innerText = originalText;
                btn.style.opacity = '1';
                btn.disabled = false;
            }
        }
    </script>

</body>

</html>