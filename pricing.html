<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Plan - Total Package Interview</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 3px;
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-slate-900 via-slate-950 to-black min-h-screen">

    <!-- Header -->
    <nav class="border-b border-white/5 bg-slate-950/50 backdrop-blur-xl sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/" class="flex flex-col">
                <span class="text-[10px] font-bold text-teal uppercase tracking-[0.2em] leading-tight">Total
                    Package</span>
                <span class="text-xl font-black text-white tracking-tighter leading-tight">INTERVIEW</span>
            </a>
            <div class="flex items-center gap-4">
                <a href="/login.html" class="text-sm text-slate-400 hover:text-white transition-colors">Login</a>
                <a href="/signup.html"
                    class="px-4 py-2 bg-teal hover:bg-teal/80 text-slate-950 font-bold rounded-lg transition-all text-sm">
                    Sign Up
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-12 md:py-20">

        <!-- Header Section -->
        <div class="text-center mb-12 md:mb-16">
            <h2 class="text-xs font-bold text-teal uppercase tracking-widest mb-3">PREMIUM ACCESS</h2>
            <h1 class="text-4xl md:text-5xl font-black text-white mb-4">Choose Your Plan</h1>
            <p class="text-slate-400 text-lg">Invest in your career success properly.</p>
        </div>

        <!-- Pricing Cards -->
        <div class="space-y-12">

            <!-- Unlock Pro Section -->
            <div class="space-y-4">
                <label class="text-xs font-bold text-yellow-500 uppercase tracking-widest flex items-center gap-2">
                    <i class="fas fa-star"></i> Unlock Pro
                </label>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <!-- Monthly Unlimited -->
                    <div
                        class="glass-card rounded-2xl p-6 relative overflow-hidden group hover:border-teal/30 transition-all">
                        <div class="absolute top-4 right-4">
                            <span
                                class="bg-teal text-slate-950 text-[10px] px-2 py-1 rounded font-black tracking-wider">BEST
                                VALUE</span>
                        </div>
                        <h3 class="text-lg font-bold text-teal mb-2 flex items-center gap-2">
                            Monthly Unlimited
                            <span
                                class="bg-teal text-black text-[8px] px-1.5 py-0.5 rounded font-black tracking-tighter">PRO</span>
                        </h3>
                        <p class="text-xs text-slate-400 mb-4">Unlimited Text Tools + 50 Voice Sessions/mo</p>
                        <div class="flex items-baseline gap-2 mb-6">
                            <span class="text-4xl font-black text-white">$49.99</span>
                            <span class="text-slate-500 text-sm">/mo</span>
                        </div>
                        <button onclick="handleCheckout(event, 'pro')"
                            class="w-full bg-teal hover:bg-teal/80 text-slate-950 font-bold py-3 rounded-lg transition-all shadow-lg">
                            Go Unlimited
                        </button>
                    </div>

                    <!-- Strategy Bundle -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-blue-500/30 transition-all">
                        <h3 class="text-lg font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            Strategy Bundle</h3>
                        <p class="text-xs text-slate-400 mb-4">5 Universal Credits (Save ~$15)</p>
                        <div class="flex items-baseline gap-2 mb-6">
                            <span class="text-4xl font-black text-white">$29.99</span>
                        </div>
                        <button onclick="handleCheckout(event, 'strategy_bundle')"
                            class="w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-lg transition-all">
                            Purchase
                        </button>
                    </div>

                </div>
            </div>

            <!-- Expert Services Section -->
            <div class="space-y-4">
                <label class="text-xs font-bold text-blue-400 uppercase tracking-widest flex items-center gap-2">
                    <i class="fas fa-user-tie"></i> Ã€ La Carte Tools
                </label>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

                    <!-- Executive Rewrite -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            Executive Rewrite</h3>
                        <p class="text-[10px] text-slate-500 mb-4">$12.99 / use</p>
                        <button onclick="handleCheckout(event, 'rewrite')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- Interview Simulator -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            Interview Simulator</h3>
                        <p class="text-[10px] text-slate-500 mb-4">$9.99 / session</p>
                        <button onclick="handleCheckout(event, 'strategy_interview_sim')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                    <!-- 30-60-90 Day Plan -->
                    <div class="glass-card rounded-2xl p-6 group hover:border-slate-600 transition-all">
                        <h3 class="text-sm font-bold text-slate-300 group-hover:text-white mb-2 transition-colors">
                            30-60-90 Day Plan</h3>
                        <p class="text-[10px] text-slate-500 mb-4">$8.99 / use</p>
                        <button onclick="handleCheckout(event, 'strategy_plan')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-2 rounded-lg transition-all text-sm">
                            Buy
                        </button>
                    </div>

                </div>
            </div>

            <!-- Toolkit Section -->
            <div class="space-y-4">
                <label class="text-xs font-bold text-green-400 uppercase tracking-widest flex items-center gap-2">
                    <i class="fas fa-toolbox"></i> Strategy Toolkit
                </label>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">

                    <!-- Cover Letter -->
                    <div class="glass-card rounded-xl p-4 group hover:border-slate-600 transition-all">
                        <h3 class="text-xs font-bold text-slate-300 group-hover:text-white mb-1 transition-colors">Cover
                            Letter</h3>
                        <p class="text-[9px] text-slate-500 mb-3">$6.99</p>
                        <button onclick="handleCheckout(event, 'strategy_cover_letter')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-1.5 rounded text-xs transition-all">
                            Buy
                        </button>
                    </div>

                    <!-- LinkedIn Optimize -->
                    <div class="glass-card rounded-xl p-4 group hover:border-slate-600 transition-all">
                        <h3 class="text-xs font-bold text-slate-300 group-hover:text-white mb-1 transition-colors">
                            LinkedIn Opt</h3>
                        <p class="text-[9px] text-slate-500 mb-3">$6.99</p>
                        <button onclick="handleCheckout(event, 'strategy_linkedin')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-1.5 rounded text-xs transition-all">
                            Buy
                        </button>
                    </div>

                    <!-- Negotiation -->
                    <div class="glass-card rounded-xl p-4 group hover:border-slate-600 transition-all">
                        <h3 class="text-xs font-bold text-slate-300 group-hover:text-white mb-1 transition-colors">The
                            Closer</h3>
                        <p class="text-[9px] text-slate-500 mb-3">$6.99</p>
                        <button onclick="handleCheckout(event, 'strategy_negotiation')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-1.5 rounded text-xs transition-all">
                            Buy
                        </button>
                    </div>

                    <!-- Inquisitor -->
                    <div class="glass-card rounded-xl p-4 group hover:border-slate-600 transition-all">
                        <h3 class="text-xs font-bold text-slate-300 group-hover:text-white mb-1 transition-colors">
                            Inquisitor</h3>
                        <p class="text-[9px] text-slate-500 mb-3">$6.99</p>
                        <button onclick="handleCheckout(event, 'strategy_inquisitor')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-1.5 rounded text-xs transition-all">
                            Buy
                        </button>
                    </div>

                    <!-- Follow-Up -->
                    <div class="glass-card rounded-xl p-4 group hover:border-slate-600 transition-all">
                        <h3 class="text-xs font-bold text-slate-300 group-hover:text-white mb-1 transition-colors">Value
                            Follow-Up</h3>
                        <p class="text-[9px] text-slate-500 mb-3">$6.99</p>
                        <button onclick="handleCheckout(event, 'strategy_followup')"
                            class="w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 text-white font-medium py-1.5 rounded text-xs transition-all">
                            Buy
                        </button>
                    </div>

                </div>
            </div>

        </div>

        <!-- Footer Note -->
        <div class="mt-16 text-center">
            <p class="text-xs text-slate-500">All purchases are secure and processed through Stripe.</p>
            <p class="text-xs text-slate-600 mt-2">Questions? <a href="mailto:support@totalpackageinterview.com"
                    class="text-teal hover:underline">Contact Support</a></p>
        </div>

    </main>

    <script>
        async function handleCheckout(event, planType) {
            event.preventDefault();

            // Check authentication
            const sessionStr = localStorage.getItem('aceinterview_session');
            if (!sessionStr) {
                window.location.href = '/login.html?redirect=/pricing.html';
                return;
            }

            const session = JSON.parse(sessionStr);
            const email = session.email;
            const btn = event.target;
            const originalText = btn.innerText;

            btn.innerText = 'Processing...';
            btn.style.opacity = '0.7';
            btn.disabled = true;

            try {
                const response = await fetch('/api', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'create-checkout-session',
                        email: email,
                        plan: planType,
                        userId: session.user_id || session.id || session.user?.id
                    })
                });

                const result = await response.json();

                if (!response.ok) {
                    console.error('Checkout API Error:', result);
                    alert(`Error starting checkout: ` + (result.error || 'Please try again.'));
                    btn.innerText = originalText;
                    btn.style.opacity = '1';
                    btn.disabled = false;
                    return;
                }

                const data = result.data || result;
                if (data.url) {
                    window.location.href = data.url;
                } else {
                    alert('Error starting checkout: No redirect URL received.');
                    btn.innerText = originalText;
                    btn.style.opacity = '1';
                    btn.disabled = false;
                }
            } catch (e) {
                console.error('Checkout Exception:', e);
                alert('Connection error. Please try again.');
                btn.innerText = originalText;
                btn.style.opacity = '1';
                btn.disabled = false;
            }
        }
    </script>

</body>

</html>